<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>转-蓝桥杯2015省赛c/c++　Ｂ组 | WarpTens</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="转载自: 2015年第六届蓝桥杯试题（C/C++本科B组）
转载自：2015年第六届蓝桥杯省赛（C/C++ B组）解题报告，2015年蓝桥
奖券数目有些人很迷信数字，比如带“4”的数字，认为和“死”谐音，就觉得不吉利。虽然这些说法纯属无稽之谈，但有时还要迎合大众的需求。某抽奖活动的奖券号码是5位数（10000-99999），要求其中不要出现带“4”的号码，主办单位请你计算一下，如果任何两张奖券不重">
<meta property="og:type" content="article">
<meta property="og:title" content="转-蓝桥杯2015省赛c/c++　Ｂ组">
<meta property="og:url" content="http://yoursite.com/2016/03/19/lanqiao2015/index.html">
<meta property="og:site_name" content="WarpTens">
<meta property="og:description" content="转载自: 2015年第六届蓝桥杯试题（C/C++本科B组）
转载自：2015年第六届蓝桥杯省赛（C/C++ B组）解题报告，2015年蓝桥
奖券数目有些人很迷信数字，比如带“4”的数字，认为和“死”谐音，就觉得不吉利。虽然这些说法纯属无稽之谈，但有时还要迎合大众的需求。某抽奖活动的奖券号码是5位数（10000-99999），要求其中不要出现带“4”的号码，主办单位请你计算一下，如果任何两张奖券不重">
<meta property="og:image" content="http://img.blog.csdn.net/20160316112803740?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center">
<meta property="og:updated_time" content="2016-04-14T01:42:02.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="转-蓝桥杯2015省赛c/c++　Ｂ组">
<meta name="twitter:description" content="转载自: 2015年第六届蓝桥杯试题（C/C++本科B组）
转载自：2015年第六届蓝桥杯省赛（C/C++ B组）解题报告，2015年蓝桥
奖券数目有些人很迷信数字，比如带“4”的数字，认为和“死”谐音，就觉得不吉利。虽然这些说法纯属无稽之谈，但有时还要迎合大众的需求。某抽奖活动的奖券号码是5位数（10000-99999），要求其中不要出现带“4”的号码，主办单位请你计算一下，如果任何两张奖券不重">
<meta name="twitter:image" content="http://img.blog.csdn.net/20160316112803740?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center">
   
  
    <link rel="alternative" href="/atom.xml" title="WarpTens" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://avatar.csdn.net/0/6/8/1_warptens.jpg?1481643481559" class="js-avatar">
			
			
		</a>

		<hgroup>
		  <a id="follow" 
        href='
          
    javascript:(
    /*
     * Copyright (C) 2015 Rocko (http://rocko.xyz) <rocko.zxp@gmail.com>
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *      http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    function go() {
    
    function c() {
        var e = document.createElement("link");
        e.setAttribute("type", "text/css");
        e.setAttribute("rel", "stylesheet");
        e.setAttribute("href", f);
        e.setAttribute("class", l);
        document.body.appendChild(e)
    }
 
    function h() {
        var e = document.getElementsByClassName(l);
        for (var t = 0; t < e.length; t++) {
            document.body.removeChild(e[t])
        }
    }
 
    function p() {
        var e = document.createElement("div");
        e.setAttribute("class", a);
        document.body.appendChild(e);
        setTimeout(function() {
            document.body.removeChild(e)
        }, 100)
    }
 
    function d(e) {
        return {
            height : e.offsetHeight,
            width : e.offsetWidth
        }
    }
 
    function v(i) {
        var s = d(i);
        return s.height > e && s.height < n && s.width > t && s.width < r
    }
 
    function m(e) {
        var t = e;
        var n = 0;
        while (!!t) {
            n += t.offsetTop;
            t = t.offsetParent
        }
        return n
    }
 
    function g() {
        var e = document.documentElement;
        if (!!window.innerWidth) {
            return window.innerHeight
        } else if (e && !isNaN(e.clientHeight)) {
            return e.clientHeight
        }
        return 0
    }
 
    function y() {
        if (window.pageYOffset) {
            return window.pageYOffset
        }
        return Math.max(document.documentElement.scrollTop, document.body.scrollTop)
    }
 
    function E(e) {
        var t = m(e);
        return t >= w && t <= b + w
    }
 
    var songs = [
                "http://7xoiki.com1.z0.glb.clouddn.com/Music-Fashion_Show.mp3",
                "http://7xoiki.com1.z0.glb.clouddn.com/Music-Wake-Live.mp3",
                "http://7xoiki.com1.z0.glb.clouddn.com/Music-outside.mp3",
                "http://7xoiki.com1.z0.glb.clouddn.com/Music-sunburst.mp3"
    ];

    function S() {
        var e = document.getElementById("audio_element_id");
        if(e != null){
            var index = parseInt(e.getAttribute("curSongIndex"));
            if(index > songs.length - 2) {
                index = 0;
            } else {
                index++;
            }
            e.setAttribute("curSongIndex", index);
            N();
        }

        e.src = i;
        e.play()
    }
 
    function x(e) {
        e.className += " " + s + " " + o
    }
 
    function T(e) {
        e.className += " " + s + " " + u[Math.floor(Math.random() * u.length)]
    }
 
    function N() {
        var e = document.getElementsByClassName(s);
        var t = new RegExp("\\b" + s + "\\b");
        for (var n = 0; n < e.length; ) {
            e[n].className = e[n].className.replace(t, "")
        }
    }

    function initAudioEle() {
        var e = document.getElementById("audio_element_id");
        if(e === null){
            e = document.createElement("audio");
            e.setAttribute("class", l);
            e.setAttribute("curSongIndex", 0);
            e.id = "audio_element_id";
            e.loop = false;
            e.bgcolor = 0;
            e.addEventListener("canplay", function() {
            setTimeout(function() {
                x(k)
            }, 500);
            setTimeout(function() {
                N();
                p();
                for (var e = 0; e < O.length; e++) {
                    T(O[e])
                }
            }, 15500)
        }, true);
        e.addEventListener("ended", function() {
            N();
            h();
            go();
        }, true);
        e.innerHTML = " <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";
        document.body.appendChild(e);
        }
    }
    
    initAudioEle();
    var e = 30;
    var t = 30;
    var n = 350;
    var r = 350;

    var curSongIndex = parseInt(document.getElementById("audio_element_id").getAttribute("curSongIndex"));
    var i = songs[curSongIndex];
    
    var s = "mw-harlem_shake_me";
    var o = "im_first";
    var u = ["im_drunk", "im_baked", "im_trippin", "im_blown"];
    var a = "mw-strobe_light";

    var f = "http://thereisnospon.com/css.css";
    
    var l = "mw_added_css";
    var b = g();
    var w = y();
    var C = document.getElementsByTagName("*");
    var k = null;
    for (var L = 0; L < C.length; L++) {
        var A = C[L];
        if (v(A)) {
            if (E(A)) {
                k = A;
                break
            }
        }
    }
    if (A === null) {
        console.warn("Could not find a node of the right size. Please try a different page.");
        return
    }
    c();
    S();
    var O = [];
    for (var L = 0; L < C.length; L++) {
        var A = C[L];
        if (v(A)) {
            O.push(A)
        }
    }
    })()
    
        '>
      <i class="fa fa-music"></i> &nbsp High一下 </i></a>
		  <h1 class="header-author"><a href="/">WarpTens</a></h1>

		 
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/gate">传送门</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Thereisnospon" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/u/2195562155?is_all=1" title="weibo">weibo</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/acm/" style="font-size: 15px;">acm</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/cpp/" style="font-size: 20px;">cpp</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/总结/" style="font-size: 10px;">总结</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io/">hexo官网</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://mindhacks.cn/">刘未鹏</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://coolshell.cn/">酷壳</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.kdwycz.com/">kdwycz</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.aemiot.com/">泛叶江湖</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://lattez.host.smartgslb.com/">Lattez</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/mummyding/">MummyDing</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.thereisnospon.com/">Thereisnospon</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://rocko.xyz/">rocko</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">WarpTens</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://avatar.csdn.net/0/6/8/1_warptens.jpg?1481643481559" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">WarpTens</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/gate">传送门</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Thereisnospon" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/2195562155?is_all=1" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-lanqiao2015" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/19/lanqiao2015/" class="article-date">
  	<time datetime="2016-03-19T05:59:11.000Z" itemprop="datePublished">2016-03-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      转-蓝桥杯2015省赛c/c++　Ｂ组
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/acm/">acm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cpp/">cpp</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.csdn.net/qq_25605637/article/details/50838365" target="_blank" rel="external">转载自: 2015年第六届蓝桥杯试题（C/C++本科B组）</a></p>
<p><a href="http://www.bkjia.com/ASPjc/983710.html" target="_blank" rel="external">转载自：2015年第六届蓝桥杯省赛（C/C++ B组）解题报告，2015年蓝桥</a></p>
<h1 id="奖券数目"><a href="#奖券数目" class="headerlink" title="奖券数目"></a>奖券数目</h1><p>有些人很迷信数字，比如带“4”的数字，认为和“死”谐音，就觉得不吉利。<br>虽然这些说法纯属无稽之谈，但有时还要迎合大众的需求。某抽奖活动的奖券号码是5位数（10000-99999），要求其中不要出现带“4”的号码，主办单位请你计算一下，如果任何两张奖券不重号，最多可发出奖券多少张。</p>
<p>请提交该数字（一个整数），不要写任何多余的内容或说明性文字。</p>
<blockquote>
<p>答案：第一位不取0和4，剩下四位不取4,       8＊9＊9＊9＊9</p><p></p>
</blockquote>
<h1 id="星系炸弹"><a href="#星系炸弹" class="headerlink" title="星系炸弹"></a>星系炸弹</h1><p>在X星系的广袤空间中漂浮着许多X星人造“炸弹”，用来作为宇宙中的路标。<br>每个炸弹都可以设定多少天之后爆炸。<br>比如：阿尔法炸弹2015年1月1日放置，定时为15天，则它在2015年1月16日爆炸。<br>有一个贝塔炸弹，2014年11月9日放置，定时为1000天，请你计算它爆炸的准确日期。</p>
<p>请填写该日期，格式为 yyyy-mm-dd  即4位年份2位月份2位日期。比如：2015-02-19<br>请严格按照格式书写。不能出现其它文字或符号。</p>
<a id="more"></a>
<blockquote>
<p>答案：2017-08-05</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span>  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;<span class="comment">//1061109567  </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;  </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> mon[<span class="number">13</span>] = &#123;<span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>&#125;;  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isleap</span><span class="params">(<span class="keyword">int</span> year)</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>((year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || year % <span class="number">400</span> == <span class="number">0</span>)  </span><br><span class="line">        return <span class="literal">true</span>;  </span><br><span class="line">    return <span class="literal">false</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> year = <span class="number">2014</span>;  </span><br><span class="line">    <span class="keyword">int</span> month,day;  </span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">1000</span> - <span class="number">52</span>;<span class="comment">//到这一年年底的时候剩余的时间  </span></span><br><span class="line">    <span class="keyword">int</span> sum1;  </span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span>(isleap(year+<span class="number">1</span>))  </span><br><span class="line">        &#123;  </span><br><span class="line">            sum1 = <span class="number">366</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">else</span>  </span><br><span class="line">        &#123;  </span><br><span class="line">            sum1 = <span class="number">365</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span>(sum &lt; sum1)  </span><br><span class="line">        &#123;  </span><br><span class="line">            year++;  </span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">else</span>  </span><br><span class="line">        &#123;  </span><br><span class="line">            year++;  </span><br><span class="line">            sum -= sum1;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span>(isleap(year))  </span><br><span class="line">    &#123;  </span><br><span class="line">        mon[<span class="number">2</span>]++;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">12</span>; i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span>(sum &gt; mon[i])  </span><br><span class="line">        &#123;  </span><br><span class="line">            sum -= mon[i];  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">else</span>  </span><br><span class="line">        &#123;  </span><br><span class="line">            month = i;  </span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    day = sum;  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>,year,month,day);  </span><br><span class="line">    return <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="三羊献瑞"><a href="#三羊献瑞" class="headerlink" title="三羊献瑞"></a>三羊献瑞</h1><p>观察下面的加法算式：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">      祥 瑞 生 辉</span><br><span class="line">  +   三 羊 献 瑞</span><br><span class="line">-------------------</span><br><span class="line">   三 羊 生 瑞 气</span><br></pre></td></tr></table></figure></p>
<p>(如果有对齐问题，可以参看【图1.jpg】)</p>
<p>其中，相同的汉字代表相同的数字，不同的汉字代表不同的数字。</p>
<p>请你填写“三羊献瑞”所代表的4位数字（答案唯一），不要填写任何多余内容。</p>
<blockquote>
<p>答案：1085</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span>  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;<span class="comment">//1061109567  </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;  </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];  </span><br><span class="line"><span class="keyword">int</span> visit[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur)</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(cur == <span class="number">8</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">int</span> sum = a[<span class="number">0</span>] * <span class="number">1000</span> + a[<span class="number">1</span>] * <span class="number">100</span> + a[<span class="number">2</span>] * <span class="number">10</span> + a[<span class="number">3</span>];  </span><br><span class="line">        <span class="keyword">int</span> sum1 = a[<span class="number">4</span>] * <span class="number">1000</span> + a[<span class="number">5</span>] * <span class="number">100</span> + a[<span class="number">6</span>] * <span class="number">10</span> + a[<span class="number">1</span>];  </span><br><span class="line">        <span class="keyword">int</span> sum2 = a[<span class="number">4</span>] * <span class="number">10000</span> + a[<span class="number">5</span>] * <span class="number">1000</span> + a[<span class="number">2</span>] * <span class="number">100</span> + a[<span class="number">1</span>] * <span class="number">10</span> + a[<span class="number">7</span>];  </span><br><span class="line">        <span class="keyword">if</span>(sum + sum1 == sum2)  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>,sum,sum1,sum2);  </span><br><span class="line">        &#125;  </span><br><span class="line">        return;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; cur == <span class="number">0</span>)  </span><br><span class="line">            <span class="keyword">continue</span>;  </span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; cur == <span class="number">4</span>)  </span><br><span class="line">            <span class="keyword">continue</span>;  </span><br><span class="line">        <span class="keyword">if</span>(!visit[i])  </span><br><span class="line">        &#123;  </span><br><span class="line">            visit[i] = <span class="number">1</span>;  </span><br><span class="line">            a[cur] = i;  </span><br><span class="line">            dfs(cur+<span class="number">1</span>);  </span><br><span class="line">            visit[i] = <span class="number">0</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    dfs(<span class="number">0</span>);  </span><br><span class="line">    return <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="格子中输出"><a href="#格子中输出" class="headerlink" title="格子中输出"></a>格子中输出</h1><p>StringInGrid函数会在一个指定大小的格子中打印指定的字符串。<br>要求字符串在水平、垂直两个方向上都居中。<br>如果字符串太长，就截断。<br>如果不能恰好居中，可以稍稍偏左或者偏上一点。<br><img src="http://img.blog.csdn.net/20160316112803740?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"><br>下面的程序实现这个逻辑，请填写划线部分缺少的代码。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StringInGrid</span><span class="params">(<span class="keyword">int</span> width, <span class="keyword">int</span> height, <span class="keyword">const</span> <span class="keyword">char</span>* s)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i,k;</span><br><span class="line">	<span class="keyword">char</span> buf[<span class="number">1000</span>];</span><br><span class="line">	<span class="built_in">strcpy</span>(buf, s);</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">strlen</span>(s)&gt;width<span class="number">-2</span>) buf[width<span class="number">-2</span>]=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"+"</span>);</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;width<span class="number">-2</span>;i++) <span class="built_in">printf</span>(<span class="string">"-"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"+\n"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(k=<span class="number">1</span>; k&lt;(height<span class="number">-1</span>)/<span class="number">2</span>;k++)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"|"</span>);</span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;width<span class="number">-2</span>;i++) <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"|\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"|"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%*s%s%*s"</span>,_____________________________________________);  <span class="comment">//填空</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"|\n"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(k=(height<span class="number">-1</span>)/<span class="number">2</span>+<span class="number">1</span>; k&lt;height<span class="number">-1</span>; k++)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"|"</span>);</span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;width<span class="number">-2</span>;i++) <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"|\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"+"</span>);</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;width<span class="number">-2</span>;i++) <span class="built_in">printf</span>(<span class="string">"-"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"+\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	StringInGrid(<span class="number">20</span>,<span class="number">6</span>,<span class="string">"abcd1234"</span>);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于题目中数据，应该输出：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+------------------+</span><br><span class="line">|                  |</span><br><span class="line">|     abcd1234     |</span><br><span class="line">|                  |</span><br><span class="line">|                  |</span><br><span class="line">+------------------+</span><br></pre></td></tr></table></figure></p>
<p>（如果出现对齐问题，参看【图1.jpg】）</p>
<p>注意：只填写缺少的内容，不要书写任何题面已有代码或说明性文字。</p>
<blockquote>
<p>答案：(width-strlen(s)-2)/2,””,s,(width-strlen(s)-1)/2,””</p>
</blockquote>
<h1 id="九数组分数"><a href="#九数组分数" class="headerlink" title="九数组分数"></a>九数组分数</h1><p>1,2,3…9 这九个数字组成一个分数，其值恰好为1/3，如何组法？</p>
<p>下面的程序实现了该功能，请填写划线部分缺失的代码。<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> x[])</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = x[<span class="number">0</span>]*<span class="number">1000</span> + x[<span class="number">1</span>]*<span class="number">100</span> + x[<span class="number">2</span>]*<span class="number">10</span> + x[<span class="number">3</span>];</span><br><span class="line">	<span class="keyword">int</span> b = x[<span class="number">4</span>]*<span class="number">10000</span> + x[<span class="number">5</span>]*<span class="number">1000</span> + x[<span class="number">6</span>]*<span class="number">100</span> + x[<span class="number">7</span>]*<span class="number">10</span> + x[<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(a*<span class="number">3</span>==b) <span class="built_in">printf</span>(<span class="string">"%d / %d\n"</span>, a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> x[], <span class="keyword">int</span> k)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i,t;</span><br><span class="line">	<span class="keyword">if</span>(k&gt;=<span class="number">9</span>)&#123;</span><br><span class="line">		test(x);</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(i=k; i&lt;<span class="number">9</span>; i++)&#123;</span><br><span class="line">		&#123;t=x[k]; x[k]=x[i]; x[i]=t;&#125;</span><br><span class="line">		f(x,k+<span class="number">1</span>);</span><br><span class="line">		_____________________________________________ <span class="comment">// 填空处</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> x[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line">	f(x,<span class="number">0</span>);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>注意：只填写缺少的内容，不要书写任何题面已有代码或说明性文字。</p>
<blockquote>
<p>答案：简单回溯，就是全排列代码，把顺序倒过来就行<br>t = x[k];x[k] = x[i]; x[i] = t;</p>
</blockquote>
<h1 id="加法变乘法"><a href="#加法变乘法" class="headerlink" title="加法变乘法"></a>加法变乘法</h1><p>我们都知道：1+2+3+ … + 49 = 1225<br>现在要求你把其中两个不相邻的加号变成乘号，使得结果为2015</p>
<p>比如：<br>1+2+3+…+10＊11+12+…+27＊28+29+…+49 = 2015<br>就是符合要求的答案。</p>
<p>请你寻找另外一个可能的答案，并把位置靠前的那个乘号左边的数字提交（对于示例，就是提交10）。</p>
<p>注意：需要你提交的是一个整数，不要填写任何多余的内容。</p>
<blockquote>
<p>答案：16<br>枚举乘号的位置即可</p>
</blockquote>
<p>49个数中间有48个符号<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span>  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;<span class="comment">//1061109567  </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;  </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">46</span>; i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">2</span>; j&lt;=<span class="number">48</span>; j++)  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">int</span> sum = <span class="number">0</span>;  </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>; k&lt;i; k++)  </span><br><span class="line">            &#123;  </span><br><span class="line">                sum += k;  </span><br><span class="line">            &#125;  </span><br><span class="line">            sum += i * (i+<span class="number">1</span>);  </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=i+<span class="number">2</span>; k&lt;j; k++)  </span><br><span class="line">            &#123;  </span><br><span class="line">                sum += k;  </span><br><span class="line">            &#125;  </span><br><span class="line">            sum += j * (j+<span class="number">1</span>);  </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=j+<span class="number">2</span>; k&lt;=<span class="number">49</span>; k++)  </span><br><span class="line">            &#123;  </span><br><span class="line">                sum += k;  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="keyword">if</span>(sum == <span class="number">2015</span>)  </span><br><span class="line">            &#123;  </span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d  %d\n"</span>,i,j);  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>解法２:<br>　　用双循环暴力两个乘号的位置，计算在数字i、j后的加号改为乘号，式子数值的变化即可，注意j的起始位置为i+2。<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">48</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">2</span>; j &lt;= <span class="number">48</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="number">1225</span> - i - (i+<span class="number">1</span>) - j - (j+<span class="number">1</span>) ==</span><br><span class="line">                <span class="number">2015</span> - i*(i+<span class="number">1</span>) - j*(j+<span class="number">1</span>))</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="牌型种数"><a href="#牌型种数" class="headerlink" title="牌型种数"></a>牌型种数</h1><p>小明被劫持到X赌城，被迫与其他3人玩牌。<br>一副扑克牌（去掉大小王牌，共52张），均匀发给4个人，每个人13张。<br>这时，小明脑子里突然冒出一个问题：<br>如果不考虑花色，只考虑点数，也不考虑自己得到的牌的先后顺序，自己手里能拿到的初始牌型组合一共有多少种呢？</p>
<p>请填写该整数，不要填写任何多余的内容或说明文字。</p>
<blockquote>
<p>答案：3598180（每种牌的个数是0,1,2,3,4）枚举一下即可</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span>  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;<span class="comment">//1061109567  </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;  </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur,<span class="keyword">int</span> sum)</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(sum &gt; <span class="number">13</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        return;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span>(cur == <span class="number">13</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span>(sum == <span class="number">13</span>)  </span><br><span class="line">        &#123;  </span><br><span class="line">            ans++;  </span><br><span class="line">        &#125;  </span><br><span class="line">        return;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=<span class="number">4</span>; i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        dfs(cur+<span class="number">1</span>,sum+i);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    dfs(<span class="number">0</span>,<span class="number">0</span>);  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);  </span><br><span class="line">    return <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解法2:<br>大部分人应该都能想到用13重循环暴力解（每层循环都是0~4）的方法，当累加和为13时，ans++。<br>　　我在赛中想到的是动态规划，因为我想到了“小明爬楼梯”，且跟赛前，’<strong>M子</strong>‘给我们讲的去年赛题“地宫取宝”的dp思路非常像。<br>　　假设牌是从1到13按顺序取的，dp[i][j]表示取到第i号的牌，目前总共有j张牌的取法总数，那么有状态转移方程（注意公式没考虑边界处理）：<br>　　dp[i][j]=∑k=j−4jdp[i−1][k]</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"></span><br><span class="line">LL dp[<span class="number">14</span>][<span class="number">14</span>]; <span class="comment">// dp[i][j]: 当前到第i张牌，总共有j张牌时的解的个数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">0</span>] = dp[<span class="number">1</span>][<span class="number">1</span>] = dp[<span class="number">1</span>][<span class="number">2</span>] = dp[<span class="number">1</span>][<span class="number">3</span>] = dp[<span class="number">1</span>][<span class="number">4</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= <span class="number">13</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt;= <span class="number">13</span>; k++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (k - <span class="number">4</span> &gt;= <span class="number">0</span>) dp[i][k] += dp[i<span class="number">-1</span>][k<span class="number">-4</span>];</span><br><span class="line">            <span class="keyword">if</span> (k - <span class="number">3</span> &gt;= <span class="number">0</span>) dp[i][k] += dp[i<span class="number">-1</span>][k<span class="number">-3</span>];</span><br><span class="line">            <span class="keyword">if</span> (k - <span class="number">2</span> &gt;= <span class="number">0</span>) dp[i][k] += dp[i<span class="number">-1</span>][k<span class="number">-2</span>];</span><br><span class="line">            <span class="keyword">if</span> (k - <span class="number">1</span> &gt;= <span class="number">0</span>) dp[i][k] += dp[i<span class="number">-1</span>][k<span class="number">-1</span>];</span><br><span class="line">            dp[i][k] += dp[i<span class="number">-1</span>][k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; dp[<span class="number">13</span>][<span class="number">13</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="移动距离"><a href="#移动距离" class="headerlink" title="移动距离"></a>移动距离</h1><p>X星球居民小区的楼房全是一样的，并且按矩阵样式排列。其楼房的编号为1,2,3…<br>当排满一行时，从下一行相邻的楼往反方向排号。<br>比如：当小区排号宽度为6时，开始情形如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1  2  3  4  5  6</span><br><span class="line">12 11 10 9  8  7</span><br><span class="line">13 14 15 .....</span><br></pre></td></tr></table></figure>
<p>我们的问题是：已知了两个楼号m和n，需要求出它们之间的最短移动距离（不能斜线方向移动）</p>
<p>输入为3个整数w m n，空格分开，都在1到10000范围内<br>w为排号宽度，m,n为待计算的楼号。<br>要求输出一个整数，表示m n 两楼间最短移动距离。</p>
<p>例如：<br>用户输入：<br>6 8 2<br>则，程序应该输出：<br>4</p>
<p>再例如：<br>用户输入：<br>4 7 20<br>则，程序应该输出：<br>5</p>
<p>资源约定：<br>峰值内存消耗 &lt; 256M<br>CPU消耗  &lt; 1000ms</p>
<p>请严格按要求输出，不要画蛇添足地打印类似：“请您输入…” 的多余内容。</p>
<p>所有代码放在同一个源文件中，调试通过后，拷贝提交该源码。</p>
<p>注意: main函数需要返回0<br>注意: 只使用ANSI C/ANSI C++ 标准，不要调用依赖于编译环境或操作系统的特殊函数。<br>注意: 所有依赖的函数必须明确地在源文件中 #include <xxx>， 不能通过工程设置而省略常用头文件。</xxx></p>
<p>提交时，注意选择所期望的编译器类型。</p>
<blockquote>
<p>答案：求每个数的坐标，横纵坐标减一下取绝对值加起来就行</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#include &lt;iostream&gt;  </span><br><span class="line">#include &lt;cstdio&gt;  </span><br><span class="line">#include &lt;cstdlib&gt;  </span><br><span class="line">#include &lt;algorithm&gt;  </span><br><span class="line">#include &lt;queue&gt;  </span><br><span class="line">#include &lt;stack&gt;  </span><br><span class="line">#include &lt;map&gt;  </span><br><span class="line">#include &lt;cstring&gt;  </span><br><span class="line">#include &lt;climits&gt;  </span><br><span class="line">#include &lt;cmath&gt;  </span><br><span class="line">#include &lt;cctype&gt;  </span><br><span class="line"></span><br><span class="line">const int inf = 0x3f3f3f3f;//1061109567  </span><br><span class="line">typedef long long ll;  </span><br><span class="line">using namespace std;  </span><br><span class="line"></span><br><span class="line">int main()  </span><br><span class="line">&#123;  </span><br><span class="line">    int w,m,n;  </span><br><span class="line">    while(scanf(&quot;%d%d%d&quot;,&amp;w,&amp;m,&amp;n) != EOF)  </span><br><span class="line">    &#123;  </span><br><span class="line">        int a = m / w;  </span><br><span class="line">        if(m % w == 0)//每个数的横纵坐标都是从0开始，整除横坐标减1  </span><br><span class="line">            a -= 1;  </span><br><span class="line">        int b = n / w;  </span><br><span class="line">        if(n % w== 0)  </span><br><span class="line">            b -= 1;  </span><br><span class="line">        int c,d;  </span><br><span class="line">        if(a % 2 == 1)  </span><br><span class="line">        &#123;  </span><br><span class="line">            c = abs(m - w*(a+1));  </span><br><span class="line">        &#125;  </span><br><span class="line">        else  </span><br><span class="line">        &#123;  </span><br><span class="line">            c = m - (w * a + 1);  </span><br><span class="line">        &#125;  </span><br><span class="line">        if(b % 2 == 1)  </span><br><span class="line">        &#123;  </span><br><span class="line">            d = abs(n-w*(b+1));  </span><br><span class="line">        &#125;  </span><br><span class="line">        else  </span><br><span class="line">        &#123;  </span><br><span class="line">            d = n - (w * b  + 1);  </span><br><span class="line">        &#125;  </span><br><span class="line">        int sum = abs(a-b) + abs(c-d);  </span><br><span class="line">        printf(&quot;%d\n&quot;,sum);  </span><br><span class="line">    &#125;  </span><br><span class="line">    return 0;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解法2:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输入宽度w和房子编号n，返回房子所在行x，列y</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GetPos</span><span class="params">(<span class="keyword">int</span> w, <span class="keyword">int</span> n, <span class="keyword">int</span>&amp; x, <span class="keyword">int</span>&amp; y)</span> </span>&#123;</span><br><span class="line">   x = (n<span class="number">-1</span>) / w + <span class="number">1</span>;</span><br><span class="line">   y = n % w;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (y == <span class="number">0</span>) y = w;</span><br><span class="line">   <span class="keyword">if</span> (x%<span class="number">2</span> == <span class="number">0</span>) &#123; <span class="comment">// 偶数行要倒着数</span></span><br><span class="line">       y = w - y + <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> w, m, n;</span><br><span class="line">   <span class="keyword">int</span> x1, y1, x2, y2;</span><br><span class="line"></span><br><span class="line">   <span class="built_in">cin</span> &gt;&gt; w &gt;&gt; m &gt;&gt; n;</span><br><span class="line">   GetPos(w, m, x1, y1);</span><br><span class="line">   GetPos(w, n, x2, y2);</span><br><span class="line"></span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="built_in">abs</span>(x1-x2) + <span class="built_in">abs</span>(y1-y2) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">   return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id=""><a href="#" class="headerlink" title="﻿"></a>﻿</h1><p>垒骰子</p>
<p>赌圣atm晚年迷恋上了垒骰子，就是把骰子一个垒在另一个上边，不能歪歪扭扭，要垒成方柱体。<br>经过长期观察，atm 发现了稳定骰子的奥秘：有些数字的面贴着会互相排斥！<br>我们先来规范一下骰子：1 的对面是 4，2 的对面是 5，3 的对面是 6。<br>假设有 m 组互斥现象，每组中的那两个数字的面紧贴在一起，骰子就不能稳定的垒起来。<br>atm想计算一下有多少种不同的可能的垒骰子方式。<br>两种垒骰子方式相同，当且仅当这两种方式中对应高度的骰子的对应数字的朝向都相同。<br>由于方案数可能过多，请输出模 10^9 + 7 的结果。</p>
<p>不要小看了 atm 的骰子数量哦～</p>
<p>「输入格式」<br>第一行两个整数 n m<br>n表示骰子数目<br>接下来 m 行，每行两个整数 a b ，表示 a 和 b 数字不能紧贴在一起。</p>
<p>「输出格式」<br>一行一个数，表示答案模 10^9 + 7 的结果。</p>
<p>「样例输入」<br>2 1<br>1 2</p>
<p>「样例输出」<br>544</p>
<p>「数据范围」<br>对于 30% 的数据：n &lt;= 5<br>对于 60% 的数据：n &lt;= 100<br>对于 100% 的数据：0 &lt; n &lt;= 10^9, m &lt;= 36</p>
<p>资源约定：<br>峰值内存消耗 &lt; 256M<br>CPU消耗  &lt; 2000ms</p>
<p>请严格按要求输出，不要画蛇添足地打印类似：“请您输入…” 的多余内容。</p>
<p>所有代码放在同一个源文件中，调试通过后，拷贝提交该源码。</p>
<p>注意: main函数需要返回0<br>注意: 只使用ANSI C/ANSI C++ 标准，不要调用依赖于编译环境或操作系统的特殊函数。<br>注意: 所有依赖的函数必须明确地在源文件中 #include <xxx>， 不能通过工程设置而省略常用头文件。</xxx></p>
<p>提交时，注意选择所期望的编译器类型。</p>
<p>题解：<br>比赛中，不使用模板，建议数组从下标1开始使用。这里为了和模板配合，所以假设骰子从0开始编号。可以发现规律，如果骰子的a面为0,1,2，那么a的对面数值就是a+3；相反，如果骰子的a面为3,4,5，那么a的对面数值就是a-3。这个由当前面变换到对面的操作可以用公式完成：(a+3)%6。<br>　　现在用一个bool数组isLimit[6][6]来存储，isLimit[i][j]为真，代表当前骰子i面朝上，不能接j面朝上的骰子。<br>　　矩阵快速幂模，主要是找到A^(n-1) * X中的A和X。那么这里的X向量，X[i]初值就是第一个骰子i面朝上的方法数，一共是4种。即X[0]~X[5]均为4。<br>　　A[i][j]就是当前骰子i面朝上，接j面朝上后，原方法数要乘上的因子。故A[i][j]可以由isLimit直接得到。如果i-&gt;j被限制，乘因子就是0，否则就是4。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*矩阵类（用于快速幂模）</span><br><span class="line"> 1、T是整型类型，N是方阵大小，MOD是取余的值</span><br><span class="line"> 2、Eye是单位阵</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">const</span> <span class="keyword">int</span> N, <span class="keyword">const</span> <span class="keyword">int</span> MOD&gt;</span><br><span class="line"><span class="keyword">class</span> Matrix &#123;</span><br><span class="line">   T val[N][N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   Matrix() &#123; <span class="built_in">memset</span>(val, <span class="number">0</span>, <span class="keyword">sizeof</span>(val)); &#125;</span><br><span class="line">   Matrix(T a[N][N]) &#123; <span class="built_in">memcpy</span>(val, a, <span class="keyword">sizeof</span>(val)); &#125;</span><br><span class="line"></span><br><span class="line">   Matrix <span class="keyword">operator</span>*(<span class="keyword">const</span> Matrix&amp; c) <span class="keyword">const</span> &#123;</span><br><span class="line">       Matrix res;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j)</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; N; ++k) &#123;</span><br><span class="line">                   res.val[i][j] += val[i][k] * c.val[k][j];</span><br><span class="line">                   <span class="comment">//防止矩阵元素变为负数，若不需要，去掉"+MOD"</span></span><br><span class="line">                   res.val[i][j] = (res.val[i][j] + MOD) % MOD;</span><br><span class="line">               &#125;</span><br><span class="line">       return res;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   Matrix&amp; <span class="keyword">operator</span>*=(const Matrix&amp; c) &#123;</span><br><span class="line">       *<span class="keyword">this</span> = *<span class="keyword">this</span> * c;</span><br><span class="line">       return *<span class="keyword">this</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   Matrix <span class="keyword">operator</span>^(<span class="keyword">int</span> k) <span class="keyword">const</span> &#123; <span class="comment">//返回*this^k</span></span><br><span class="line">       Matrix res = Eye();</span><br><span class="line">       <span class="function">Matrix <span class="title">step</span><span class="params">(*<span class="keyword">this</span>)</span></span>;</span><br><span class="line">       <span class="keyword">while</span> (k) &#123;</span><br><span class="line">           <span class="keyword">if</span> (k &amp; <span class="number">1</span>) res *= step;</span><br><span class="line">           k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">           step *= step;</span><br><span class="line">       &#125;</span><br><span class="line">       return res;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function">Matrix <span class="title">Eye</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">       Matrix a;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) a.val[i][i] = <span class="number">1</span>;</span><br><span class="line">       return a;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">out</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; j++)</span><br><span class="line">               <span class="built_in">cout</span> &lt;&lt; val[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">           <span class="built_in">cout</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   T* <span class="keyword">operator</span>[](<span class="keyword">int</span> i) &#123; return val[i]; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> n, m;</span><br><span class="line">   Matrix&lt;LL,<span class="number">6</span>,MOD&gt; A, X, Y;</span><br><span class="line">   <span class="keyword">bool</span> isLimit[<span class="number">6</span>][<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 输入处理</span></span><br><span class="line">   <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;   </span><br><span class="line">   <span class="built_in">memset</span>(isLimit, <span class="literal">false</span>, <span class="keyword">sizeof</span>(isLimit));</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">       <span class="keyword">int</span> a, b;</span><br><span class="line">       <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">       isLimit[a<span class="number">-1</span>][ (b+<span class="number">2</span>)%<span class="number">6</span> ] = <span class="literal">true</span>;</span><br><span class="line">       isLimit[b<span class="number">-1</span>][ (a+<span class="number">2</span>)%<span class="number">6</span> ] = <span class="literal">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 初始化A</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">6</span>; j++) &#123;</span><br><span class="line">           A[i][j] = (!isLimit[i][j]) * <span class="number">4</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 初始化X</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) X[i][<span class="number">0</span>] = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 计算Y及答案</span></span><br><span class="line">   Y = (A^(n<span class="number">-1</span>)) * X;</span><br><span class="line">   LL sum = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) sum += Y[i][<span class="number">0</span>];</span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; sum % MOD &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">   return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="生命之树"><a href="#生命之树" class="headerlink" title="生命之树"></a>生命之树</h1><p>在X森林里，上帝创建了生命之树。</p>
<p>他给每棵树的每个节点（叶子也称为一个节点）上，都标了一个整数，代表这个点的和谐值。<br>上帝要在这棵树内选出一个非空节点集S，使得对于S中的任意两个点a,b，都存在一个点列 {a, v1, v2, …, vk, b} 使得这个点列中的每个点都是S里面的元素，且序列中相邻两个点间有一条边相连。</p>
<p>在这个前提下，上帝要使得S中的点所对应的整数的和尽量大。<br>这个最大的和就是上帝给生命之树的评分。</p>
<p>经过atm的努力，他已经知道了上帝给每棵树上每个节点上的整数。但是由于 atm 不擅长计算，他不知道怎样有效的求评分。他需要你为他写一个程序来计算一棵树的分数。</p>
<p>「输入格式」<br>第一行一个整数 n 表示这棵树有 n 个节点。<br>第二行 n 个整数，依次表示每个节点的评分。<br>接下来 n-1 行，每行 2 个整数 u, v，表示存在一条 u 到 v 的边。由于这是一棵树，所以是不存在环的。</p>
<p>「输出格式」<br>输出一行一个数，表示上帝给这棵树的分数。</p>
<p>「样例输入」<br>5<br>1 -2 -3 4 5<br>4 2<br>3 1<br>1 2<br>2 5</p>
<p>「样例输出」<br>8</p>
<p>「数据范围」<br>对于 30% 的数据，n &lt;= 10<br>对于 100% 的数据，0 &lt; n &lt;= 10^5, 每个节点的评分的绝对值不超过 10^6 。</p>
<p>资源约定：<br>峰值内存消耗 &lt; 256M<br>CPU消耗  &lt; 3000ms</p>
<p>请严格按要求输出，不要画蛇添足地打印类似：“请您输入…” 的多余内容。</p>
<p>所有代码放在同一个源文件中，调试通过后，拷贝提交该源码。</p>
<p>注意: main函数需要返回0<br>注意: 只使用ANSI C/ANSI C++ 标准，不要调用依赖于编译环境或操作系统的特殊函数。<br>注意: 所有依赖的函数必须明确地在源文件中 #include <xxx>， 不能通过工程设置而省略常用头文件。</xxx></p>
<p>提交时，注意选择所期望的编译器类型。</p>
<p>题解：</p>
<p>树形DP不是我熟悉的模块，这个坑就交给别人填了表情。<br>　　树形DP参考博客：“树形DP(HDOJ1011 2196 4003 5148 POJ2342)”，及下方 “－－M子－－提供的代码：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">100000</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">-1000000</span><span class="number">-10</span>;</span><br><span class="line">LL dp[MAXN][<span class="number">2</span>];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;tree[MAXN];</span><br><span class="line">LL w[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> p,<span class="keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">   dp[p][<span class="number">0</span>]=max(dp[p][<span class="number">0</span>],w[p]);</span><br><span class="line">   dp[p][<span class="number">1</span>]=max(dp[p][<span class="number">1</span>],w[p]);</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tree[p].size();i++)&#123;</span><br><span class="line">       <span class="keyword">int</span> son=tree[p][i];</span><br><span class="line">       <span class="keyword">if</span>(son^fa)&#123;</span><br><span class="line">           dfs(son,p);</span><br><span class="line">           dp[p][<span class="number">0</span>]=max(dp[p][<span class="number">0</span>],dp[son][<span class="number">0</span>]);</span><br><span class="line">           <span class="keyword">if</span>(dp[son][<span class="number">1</span>]&gt;<span class="number">0</span>)dp[p][<span class="number">1</span>]+=dp[son][<span class="number">1</span>];</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   dp[p][<span class="number">0</span>]=max(dp[p][<span class="number">0</span>],dp[p][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">int</span> n,a,b;</span><br><span class="line">   <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="built_in">cin</span>&gt;&gt;w[i];</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;dp[i][<span class="number">0</span>]=INF;dp[i][<span class="number">1</span>]=INF;&#125;</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">       <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">       tree[a].push_back(b);</span><br><span class="line">       tree[b].push_back(a);</span><br><span class="line">   &#125;</span><br><span class="line">   dfs(<span class="number">1</span>,<span class="number">-1</span>);</span><br><span class="line">   <span class="built_in">cout</span>&lt;&lt;dp[<span class="number">1</span>][<span class="number">0</span>]&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">   return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/03/19/lanqiao2014/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          转－蓝桥杯2014省赛c/c++B组
        
      </div>
    </a>
  
  
    <a href="/2016/02/01/viewEventDispatch/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Android 事件分发机制解析</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="lanqiao2015" data-title="转-蓝桥杯2015省赛c/c++　Ｂ组" data-url="http://yoursite.com/2016/03/19/lanqiao2015/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 WarpTens
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme extend <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
    },
    displayAlign: "left",
    displayIndent: "2em"
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>